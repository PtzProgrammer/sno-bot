# VK Bot –¥–ª—è –°–ù–û –°–ü–±–Æ–ò(—Ñ) –£–ü –†–§ - –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —á–∞—Ç-–±–æ—Ç–∞ –¥–ª—è –°—Ç—É–¥–µ–Ω—á–µ—Å–∫–æ–≥–æ –Ω–∞—É—á–Ω–æ–≥–æ –æ–±—â–µ—Å—Ç–≤–∞ –±–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –õ–∏—Ç–ë–æ—Ç–∞ (–ì–û–°–¢).

## –§—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞

- üëã –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- üéì –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö
- üî¨ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –°–ù–ö (—Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏—Ö –Ω–∞—É—á–Ω—ã—Ö –∫—Ä—É–∂–∫–∞—Ö)
- üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –°–ù–û
- ‚ùì FAQ
- üß† –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```bash
cp env.example .env
```

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `VK_ACCESS_TOKEN` - —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ VK API
- `VK_CONFIRMATION_TOKEN` - —Ç–æ–∫–µ–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–ª—è webhook
- `VK_GROUP_ID` - ID –≥—Ä—É–ø–ø—ã VK

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `ADMIN_USER_IDS` - ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
- `GIGACHAT_ENABLED` - –≤–∫–ª—é—á–∏—Ç—å –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ (true/false)
- `GIGACHAT_CREDENTIALS` - —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ GigaChat

### 3. –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
npm start
```

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Yandex Cloud Functions

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Yandex Cloud CLI

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ curl
curl -sSL https://storage.yandexcloud.net/yandexcloud-yc/install.sh | bash

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
yc init
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
yc serverless function create --name vk-sno-bot-simplified

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏
yc serverless function version create \
  --function-name vk-sno-bot-simplified \
  --runtime nodejs18 \
  --entrypoint index.handler \
  --memory 128m \
  --execution-timeout 30s \
  --source-path . \
  --environment VK_ACCESS_TOKEN=your_token_here \
  --environment VK_CONFIRMATION_TOKEN=your_confirmation_token_here \
  --environment VK_GROUP_ID=your_group_id_here
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ HTTP-—Ç—Ä–∏–≥–≥–µ—Ä–∞

```bash
yc serverless trigger create http \
  --name vk-sno-bot-trigger \
  --function-name vk-sno-bot-simplified \
  --function-tag latest \
  --url vk-sno-bot-simplified
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook –≤ VK

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ VK
2. –í —Ä–∞–∑–¥–µ–ª–µ "–†–∞–±–æ—Ç–∞ —Å API" –Ω–∞–π–¥–∏—Ç–µ "Callback API"
3. –£–∫–∞–∂–∏—Ç–µ URL –≤–∞—à–µ–π Cloud Function
4. –£–∫–∞–∂–∏—Ç–µ —Ç–æ–∫–µ–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `VK_CONFIRMATION_TOKEN`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
vk-bot-simplified/
‚îú‚îÄ‚îÄ index.js              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ package.json          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ env.example           # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## API Endpoints

- `POST /` - –û—Å–Ω–æ–≤–Ω–æ–π webhook –¥–ª—è VK
- `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–æ—Ç–∞

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ë–æ—Ç –≤–µ–¥–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. –í Cloud Functions –ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª–∏ Yandex Cloud.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–æ–≤ VK API
3. –ù–∞—Å—Ç—Ä–æ–π–∫—É webhook –≤ VK
4. –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ Cloud Functions
